{"version":3,"sources":["local.js","socketProvider.js","chatProvider.js","components/chats.jsx","components/convo.jsx","components/chatroom.jsx","components/login.jsx","components/wind0w.jsx","components/App.js","index.js"],"names":["Store","key","init","localKey","useState","jsonVal","localStorage","getItem","JSON","parse","val","setVal","useEffect","setItem","stringify","SocketCtx","createContext","SocketProvider","user","children","socket","setSocket","newSocket","io","query","close","Provider","value","ChatCtx","useChats","useContext","ChatProvider","chats","setChats","appendMssg","useCallback","recip","txt","sender","prevChats","newMssg","console","log","map","chat","messages","on","off","createChat","sendMssg","emit","Chats","setBuddy","index","style","color","fontWeight","cursor","onClick","e","Convo","props","setTxt","box","document","getElementById","thisChat","find","submit","preventDefault","scrollTop","scrollHeight","id","height","width","overflow","mssg","listStyle","onSubmit","className","position","bottom","paddingLeft","rows","onChange","target","onKeyDown","keyCode","resize","required","type","Chatroom","userRef","useRef","buddy","React","display","float","paddingTop","current","placeholder","autoComplete","ref","marginLeft","backgroundColor","Login","setUser","Wind0w","state","X","Y","dragging","styles","top","initTop","left","initLeft","zIndex","startDrag","bind","toFront","stopDrag","window","addEventListener","Z","this","highestZ","incZ","setState","screenX","currentTarget","getBoundingClientRect","screenY","onMouseDown","onMouseUp","aria-label","onDoubleClick","textAlign","userSelect","justifyContent","Component","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.24b61e81.chunk.js","sourcesContent":["//This doesn't work rn because its a hook\nimport { useEffect, useState } from 'react';\n\nexport default function Store(key, init) {\n\tconst localKey = 'im-' + key;\n\tconst [val, setVal] = useState(() => {\n\t\tconst jsonVal = localStorage.getItem(localKey);\n\t\tif (jsonVal != null) return JSON.parse(jsonVal);\n\t\tif (typeof init === 'function') {\n\t\t\treturn init();\n\t\t} else {\n\t\t\treturn init;\n\t\t}\n\t});\n\tuseEffect(() => {\n\t\tlocalStorage.setItem(localKey, JSON.stringify(val));\n\t}, [localKey, val]);\n\n\treturn [val, setVal];\n}\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport io from 'socket.io-client';\n\nconst SocketCtx = createContext();\n\nexport function useSocket() {\n\treturn useContext(SocketCtx);\n}\n\nexport function SocketProvider({ user, children }) {\n\tconst [socket, setSocket] = useState();\n\n\tuseEffect(() => {\n\t\tconst newSocket = io({ query: { user } });\n\t\tsetSocket(newSocket);\n\t\treturn () => newSocket.close();\n\t}, [user]);\n\n\treturn <SocketCtx.Provider value={socket}>{children}</SocketCtx.Provider>;\n}\n","import React, { createContext, useContext, useEffect, useCallback } from 'react';\nimport Store from './local.js';\nimport { useSocket } from './socketProvider.js';\n\nconst ChatCtx = createContext();\n\nexport function useChats() {\n\treturn useContext(ChatCtx);\n}\n\nexport function ChatProvider({ user, children }) {\n\tconst [chats, setChats] = Store('chats', []);\n\tconst socket = useSocket();\n\n\tfunction createChat(user) {\n\t\tsetChats((prevChats) => {\n\t\t\treturn [...prevChats, { user, messages: [] }];\n\t\t});\n\t}\n\tfunction sendMssg(recip, txt) {\n\t\tsocket.emit('send mssg', { recip, txt });\n\t\tappendMssg({ recip, txt, sender: user });\n\t}\n\tconst appendMssg = useCallback(\n\t\t({ recip, txt, sender }) => {\n\t\t\tsetChats((prevChats) => {\n\t\t\t\tconst newMssg = { sender, txt };\n\t\t\t\tconsole.log(recip, txt, sender, prevChats);\n\t\t\t\tconst newChats = prevChats.map((chat) => {\n\t\t\t\t\tif (chat.user === recip || sender === chat.user) {\n\t\t\t\t\t\treturn { ...chat, messages: [...chat.messages, newMssg] };\n\t\t\t\t\t}\n\t\t\t\t\treturn chat;\n\t\t\t\t});\n\t\t\t\treturn newChats;\n\t\t\t});\n\t\t},\n\t\t[setChats]\n\t);\n\n\tuseEffect(() => {\n\t\tif (socket == null) return;\n\t\tsocket.on('get mssg', appendMssg);\n\t\treturn () => socket.off('get mssg');\n\t}, [socket, appendMssg]);\n\n\treturn <ChatCtx.Provider value={{ chats, createChat, sendMssg }}> {children} </ChatCtx.Provider>;\n}\n","import React from 'react';\nimport { useChats } from '../chatProvider';\n\nexport default function Chats({ setBuddy }) {\n\tconst { chats } = useChats();\n\n\treturn (\n\t\t<ul>\n\t\t\t{chats.map((chat, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={index} style={{ color: 'green', fontWeight: 'bold', cursor: 'pointer' }}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\tsetBuddy(chat.user);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{chat.user}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n}\n","import React, { useState } from 'react';\nimport { useChats } from '../chatProvider';\n\nexport default function Convo(props) {\n\tconst { chats, sendMssg } = useChats();\n\tconst [txt, setTxt] = useState('');\n\tconst box = document.getElementById('box');\n\tconst thisChat = chats.find((chat) => {\n\t\treturn chat.user === props.recip;\n\t});\n\tfunction submit(e) {\n\t\te.preventDefault();\n\t\tif (txt) sendMssg(props.recip, txt);\n\t\tsetTxt('');\n\t\tbox.scrollTop = box.scrollHeight;\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<div id=\"box\" style={{ height: '14rem', width: '20rem', overflow: 'auto' }}>\n\t\t\t\t<ul>\n\t\t\t\t\t{thisChat &&\n\t\t\t\t\t\tthisChat.messages.map((mssg, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={index} style={{ listStyle: 'none' }}>\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t<strong style={mssg.sender === props.user ? { color: 'blue' } : { color: 'green' }}>{mssg.sender}: </strong>\n\t\t\t\t\t\t\t\t\t\t{'   '}\n\t\t\t\t\t\t\t\t\t\t{mssg.txt}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<form onSubmit={submit}>\n\t\t\t\t<div className=\"field-row-stacked\" style={{ width: '100%', position: 'absolute', bottom: '0' }}>\n\t\t\t\t\t<label style={{ paddingLeft: '.5rem' }}> Chatbox:</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tid=\"chatbox\"\n\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\tvalue={txt}\n\t\t\t\t\t\tonChange={(e) => setTxt(e.target.value)}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\t\t\t\tsubmit(e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ resize: 'none' }}\n\t\t\t\t\t\trequired\n\t\t\t\t\t></textarea>\n\t\t\t\t\t<button type=\"submit\" style={{ width: '30px' }}>\n\t\t\t\t\t\tSend\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\n//scrollIntoView might be better for scrolling\n//li as <label> changes font\n","import React, { useRef } from 'react';\nimport { useChats } from '../chatProvider';\nimport Chats from './chats';\nimport Convo from './convo';\nimport Store from '../local';\n\nexport default function Chatroom({ user }) {\n\tconst userRef = useRef();\n\tconst { createChat } = useChats();\n\tconst [buddy, setBuddy] = Store('buddy', []);\n\n\tfunction submit(e) {\n\t\te.preventDefault();\n\t\tcreateChat(userRef.current.value);\n\t\tuserRef.current.value = '';\n\t}\n\n\tReact.useEffect(() => {}, []);\n\treturn (\n\t\t<div style={{ width: '30rem', display: 'in-line block' }}>\n\t\t\t<aside>\n\t\t\t\t<ul className=\"tree-view\" style={{ float: 'left', width: '8rem' }}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tWelcome,\n\t\t\t\t\t\t<span style={{ color: 'blue' }}> {user}</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={{ paddingTop: '1rem' }}>\n\t\t\t\t\t\tChats\n\t\t\t\t\t\t<Chats setBuddy={setBuddy} />\n\t\t\t\t\t</li>\n\n\t\t\t\t\t<form onSubmit={submit} style={{ paddingTop: '1rem' }}>\n\t\t\t\t\t\t<div className=\"field-row-stacked\">\n\t\t\t\t\t\t\t<label>New chat with:</label>\n\t\t\t\t\t\t\t<input id=\"newChat\" type=\"text\" placeholder=\"Username...\" autoComplete=\"off\" ref={userRef} required />\n\t\t\t\t\t\t\t<button type=\"submit\">Go</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</ul>\n\t\t\t</aside>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\theight: '20rem',\n\t\t\t\t\twidth: '20rem',\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\tmarginLeft: '5px',\n\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Convo user={user} recip={buddy} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n//justifyContent: 'end'\n","import React, { useRef } from 'react';\n\nexport default function Login({ setUser }) {\n\tconst userRef = useRef();\n\n\tfunction submit(e) {\n\t\te.preventDefault();\n\t\tsetUser(userRef.current.value);\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<label>screen name:</label>\n\t\t\t<form onSubmit={submit}>\n\t\t\t\t<input type=\"text\" ref={userRef} required />\n\t\t\t\t<button type=\"submit\">Log in</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport Chatroom from './chatroom';\nimport Login from './login';\nimport './style/wind0w.css';\n\nexport default class Wind0w extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tX: 0,\n\t\t\tY: 0,\n\t\t\tdragging: false,\n\t\t\tstyles: { top: this.props.initTop, left: this.props.initLeft, zIndex: 0 },\n\t\t};\n\t\tthis.startDrag = this.startDrag.bind(this);\n\t\tthis.toFront = this.toFront.bind(this);\n\t\tthis.dragging = this.dragging.bind(this);\n\t\tthis.stopDrag = this.stopDrag.bind(this);\n\t\twindow.addEventListener('mousemove', this.dragging);\n\t}\n\n\tstartDrag(e) {\n\t\te.preventDefault();\n\t\tvar Z = this.props.highestZ + 1;\n\t\tthis.props.incZ(Z);\n\n\t\tthis.setState({\n\t\t\tX: e.screenX - e.currentTarget.getBoundingClientRect().left,\n\t\t\tY: e.screenY - e.currentTarget.getBoundingClientRect().top,\n\t\t\thighestZ: Z,\n\t\t\tdragging: true,\n\t\t\tstyles: {\n\t\t\t\t...this.state.styles,\n\t\t\t\tzIndex: Z,\n\t\t\t},\n\t\t});\n\t}\n\n\ttoFront(e) {\n\t\tvar Z = this.props.highestZ + 1;\n\t\tthis.props.incZ(Z);\n\n\t\tthis.setState({\n\t\t\thighestZ: Z,\n\t\t\tstyles: {\n\t\t\t\t...this.state.styles,\n\t\t\t\tzIndex: Z,\n\t\t\t},\n\t\t});\n\t}\n\n\tdragging(e) {\n\t\te.preventDefault();\n\t\tif (this.state.dragging) {\n\t\t\tvar left = e.screenX - this.state.X;\n\t\t\tvar top = e.screenY - this.state.Y;\n\t\t\tthis.setState({\n\t\t\t\tstyles: {\n\t\t\t\t\t...this.state.styles,\n\t\t\t\t\tleft: left,\n\t\t\t\t\ttop: top,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tisTopWindow() {\n\t\treturn this.state.styles.zIndex === this.props.highestZ;\n\t}\n\n\tstopDrag(e) {\n\t\te.preventDefault();\n\t\tthis.setState({\n\t\t\tdragging: false,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"wind0w\" style={this.state.styles}>\n\t\t\t\t<div className=\"window\">\n\t\t\t\t\t<div className=\"title-bar\" style={{ cursor: 'grab' }} onMouseDown={this.startDrag} onMouseUp={this.stopDrag}>\n\t\t\t\t\t\t<div className=\"title-bar-text\">Instant Messenger</div>\n\t\t\t\t\t\t<div className=\"title-bar-controls\">\n\t\t\t\t\t\t\t<button aria-label=\"Minimize\" onDoubleClick={() => console.log('Double clicked!')} />\n\t\t\t\t\t\t\t<button aria-label=\"Maximize\" />\n\t\t\t\t\t\t\t<button aria-label=\"Close\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"window-body\" onMouseDown={this.toFront}>\n\t\t\t\t\t\t<p style={{ textAlign: 'center', userSelect: 'none' }}></p>\n\t\t\t\t\t\t<div className=\"field-row\" style={{ justifyContent: 'center' }}></div>\n\t\t\t\t\t\t{/* <iframe\n                            src={this.props.source}\n                            style={{pointerEvents: (this.state.dragging || !this.isTopWindow()) ? 'none' : 'auto'}}\n                            height={this.props.frameH}\n                            width={this.props.frameW} >\n                        </iframe> */}\n\t\t\t\t\t\t{this.props.user != null ? <Chatroom user={this.props.user} /> : <Login setUser={this.props.setUser} />}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n//{this.props.user != null ? <Chatroom user={this.props.user} /> : <Login setUser={this.props.setUser} />}\n//cmd shift p\n","import * as React from 'react';\nimport 'xp.css/dist/XP.css';\nimport Wind0w from './wind0w';\n//import Login from '../login';\nimport Store from '../local.js';\nimport './style/App.css';\nimport { ChatProvider } from '../chatProvider';\nimport { SocketProvider } from '../socketProvider';\n\nexport default function App() {\n\tconst [highestZ, incZ] = React.useState(0);\n\tconst [user, setUser] = Store('user', '');\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<SocketProvider user={user}>\n\t\t\t\t<ChatProvider user={user}>\n\t\t\t\t\t<Wind0w user={user} setUser={setUser} incZ={incZ} highestZ={highestZ} initTop={30} initLeft={150} />\n\t\t\t\t</ChatProvider>\n\t\t\t</SocketProvider>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}