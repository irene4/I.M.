{"version":3,"sources":["photos/sheepchat-icon.png","local.js","socketProvider.js","chatProvider.js","components/chats.jsx","components/convo.jsx","components/chatroom.jsx","components/login.jsx","components/wind0w.jsx","components/App.js","index.js"],"names":["module","exports","Store","key","init","localKey","useState","jsonVal","localStorage","getItem","JSON","parse","val","setVal","useEffect","setItem","stringify","SocketCtx","createContext","SocketProvider","user","children","socket","setSocket","newSocket","io","query","close","Provider","value","ChatCtx","useChats","useContext","ChatProvider","chats","setChats","createChat","prevChats","messages","console","log","scroll","box","document","getElementById","scrollTop","scrollHeight","appendMssg","useCallback","recip","txt","sender","newBuddy","forEach","chat","newMssg","newChats","map","on","off","sendMssg","emit","Chats","setBuddy","index","style","color","fontWeight","cursor","onClick","e","Convo","props","setTxt","thisChat","find","submit","preventDefault","id","height","width","overflow","listStyle","length","mssg","onSubmit","className","position","bottom","paddingLeft","rows","onChange","target","onKeyDown","keyCode","resize","required","type","Chatroom","userRef","useRef","buddy","React","display","float","paddingTop","current","placeholder","autoComplete","ref","marginLeft","backgroundColor","Login","setUser","Wind0w","state","X","Y","dragging","styles","top","initTop","left","initLeft","zIndex","startDrag","bind","toFront","stopDrag","window","addEventListener","Z","this","highestZ","incZ","setState","screenX","currentTarget","getBoundingClientRect","screenY","src","icon","padding","onMouseDown","onMouseUp","aria-label","onDoubleClick","textAlign","userSelect","justifyContent","Component","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c8a8b631.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sheepchat-icon.74a5d4b8.png\";","import { useEffect, useState } from 'react';\n\nexport default function Store(key, init) {\n\tconst localKey = 'im-' + key;\n\tconst [val, setVal] = useState(() => {\n\t\tconst jsonVal = localStorage.getItem(localKey);\n\t\tif (jsonVal != null) return JSON.parse(jsonVal);\n\t\tif (typeof init === 'function') {\n\t\t\treturn init();\n\t\t} else {\n\t\t\treturn init;\n\t\t}\n\t});\n\tuseEffect(() => {\n\t\tlocalStorage.setItem(localKey, JSON.stringify(val));\n\t}, [localKey, val]);\n\n\treturn [val, setVal];\n}\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport io from 'socket.io-client';\n\nconst SocketCtx = createContext();\n\nexport function useSocket() {\n\treturn useContext(SocketCtx);\n}\n\nexport function SocketProvider({ user, children }) {\n\tconst [socket, setSocket] = useState();\n\n\tuseEffect(() => {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tconst newSocket = io('http://localhost:8080/', { query: { user } });\n\t\t\tsetSocket(newSocket);\n\t\t\treturn () => newSocket.close();\n\t\t} else {\n\t\t\tconst newSocket = io({ query: { user } });\n\t\t\tsetSocket(newSocket);\n\t\t\treturn () => newSocket.close();\n\t\t}\n\t}, [user]);\n\n\treturn <SocketCtx.Provider value={socket}>{children}</SocketCtx.Provider>;\n}\n","import React, { createContext, useContext, useEffect, useCallback } from 'react';\nimport Store from './local.js';\nimport { useSocket } from './socketProvider.js';\n\nconst ChatCtx = createContext();\n\nexport function useChats() {\n\treturn useContext(ChatCtx);\n}\n\nexport function ChatProvider({ user, children }) {\n\tconst [chats, setChats] = Store('chats', []);\n\tconst socket = useSocket();\n\n\tfunction createChat(user) {\n\t\tsetChats((prevChats) => {\n\t\t\treturn [...prevChats, { user, messages: [] }];\n\t\t});\n\t\tconsole.log(`New chat created with ${user}.`);\n\t}\n\tfunction scroll() {\n\t\tconst box = document.getElementById('box');\n\t\tif (box) box.scrollTop = box.scrollHeight;\n\t}\n\tfunction sendMssg(recip, txt) {\n\t\tsocket.emit('send mssg!', { recip, txt });\n\t\tappendMssg({ recip, txt, sender: user });\n\t}\n\tconst appendMssg = useCallback(\n\t\t({ recip, txt, sender }) => {\n\t\t\tvar newBuddy = true;\n\t\t\tchats.forEach((chat) => {\n\t\t\t\t//console.log('ME:', user, 'FROM:', chat.user, 'TO:', recip, 'MATCH?', chat.user === sender);\n\t\t\t\tif (chat.user === recip || sender === chat.user) newBuddy = false;\n\t\t\t});\n\t\t\t//console.log('NEW BUDDY FLAG:', newBuddy, 'SENDER!=ME?', sender !== user);\n\t\t\tif (newBuddy === true && sender !== user) {\n\t\t\t\tconsole.log(`Message received from a new user, ${sender}!`);\n\t\t\t\tcreateChat(sender);\n\t\t\t}\n\t\t\tsetChats((prevChats) => {\n\t\t\t\tconst newMssg = { sender, txt };\n\t\t\t\tconst newChats = prevChats.map((chat) => {\n\t\t\t\t\tif (chat.user === recip || sender === chat.user) {\n\t\t\t\t\t\treturn { ...chat, messages: [...chat.messages, newMssg] };\n\t\t\t\t\t}\n\t\t\t\t\treturn chat;\n\t\t\t\t});\n\t\t\t\tscroll();\n\t\t\t\treturn newChats;\n\t\t\t});\n\t\t},\n\t\t[chats, setChats]\n\t);\n\n\tuseEffect(() => {\n\t\tscroll();\n\t\tif (socket == null) return;\n\t\tsocket.on('get mssg!', appendMssg);\n\t\treturn () => socket.off('get mssg!');\n\t}, [socket, appendMssg]);\n\n\treturn <ChatCtx.Provider value={{ chats, createChat, sendMssg }}> {children} </ChatCtx.Provider>;\n}\n","import React from 'react';\nimport { useChats } from '../chatProvider';\n\nexport default function Chats({ setBuddy }) {\n\tconst { chats } = useChats();\n\n\treturn (\n\t\t<ul>\n\t\t\t{chats.map((chat, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={index} style={{ color: 'green', fontWeight: 'bold', cursor: 'pointer' }}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\tsetBuddy(chat.user);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{chat.user}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n}\n","import React, { useState } from 'react';\nimport { useChats } from '../chatProvider';\n\nexport default function Convo(props) {\n\tconst { chats, sendMssg } = useChats();\n\tconst [txt, setTxt] = useState('');\n\tconst thisChat = chats.find((chat) => {\n\t\treturn chat.user === props.recip;\n\t});\n\tfunction submit(e) {\n\t\te.preventDefault();\n\t\tif (txt) sendMssg(props.recip, txt);\n\t\tsetTxt('');\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<div id=\"box\" style={{ height: '14rem', width: '20rem', overflow: 'auto' }}>\n\t\t\t\t<ul style={{ listStyle: 'none' }}>\n\t\t\t\t\t{thisChat && thisChat.messages.length===0 && <label><strong style={{color: 'green'}}>New chat with {props.recip}.</strong></label>}\n\t\t\t\t\t{thisChat &&\n\t\t\t\t\t\tthisChat.messages.map((mssg, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={index} >\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t<strong style={mssg.sender === props.user ? { color: 'blue' } : { color: 'green' }}>{mssg.sender}: </strong>\n\t\t\t\t\t\t\t\t\t\t{'   '}\n\t\t\t\t\t\t\t\t\t\t{mssg.txt}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<form onSubmit={submit}>\n\t\t\t\t<div className=\"field-row-stacked\" style={{ width: '100%', position: 'absolute', bottom: '0' }}>\n\t\t\t\t\t<label style={{ paddingLeft: '.5rem' }}> Chatbox:</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tid=\"chatbox\"\n\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\tvalue={txt}\n\t\t\t\t\t\tonChange={(e) => setTxt(e.target.value)}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\t\t\t\tsubmit(e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ resize: 'none' }}\n\t\t\t\t\t\trequired\n\t\t\t\t\t></textarea>\n\t\t\t\t\t<button type=\"submit\" style={{ width: '30px' }}>\n\t\t\t\t\t\tSend\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\n//scrollIntoView might be better for scrolling\n//li as <label> changes font\n","import React, { useRef } from 'react';\nimport { useChats } from '../chatProvider';\nimport Chats from './chats';\nimport Convo from './convo';\nimport Store from '../local';\n\nexport default function Chatroom({ user }) {\n\tconst userRef = useRef();\n\tconst { createChat } = useChats();\n\tconst [buddy, setBuddy] = Store('buddy', []);\n\n\tfunction submit(e) {\n\t\te.preventDefault();\n\t\tcreateChat(userRef.current.value);\n\t\tsetBuddy(userRef.current.value);\n\t\tuserRef.current.value = '';\n\t}\n\n\tReact.useEffect(() => {}, []);\n\treturn (\n\t\t<div style={{ width: '30rem', display: 'in-line block' }}>\n\t\t\t<aside>\n\t\t\t\t<ul className=\"tree-view\" style={{ float: 'left', width: '8rem' }}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tWelcome,\n\t\t\t\t\t\t<span style={{ color: 'blue' }}> {user}</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={{ paddingTop: '1rem' }}>\n\t\t\t\t\t\tChats\n\t\t\t\t\t\t<Chats setBuddy={setBuddy} />\n\t\t\t\t\t</li>\n\n\t\t\t\t\t<form onSubmit={submit} style={{ paddingTop: '1rem' }}>\n\t\t\t\t\t\t<div className=\"field-row-stacked\">\n\t\t\t\t\t\t\t<label>New chat with:</label>\n\t\t\t\t\t\t\t<input id=\"newChat\" type=\"text\" placeholder=\"Username...\" autoComplete=\"off\" ref={userRef} required />\n\t\t\t\t\t\t\t<button type=\"submit\">Go</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</ul>\n\t\t\t</aside>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\theight: '20rem',\n\t\t\t\t\twidth: '20rem',\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\tmarginLeft: '5px',\n\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Convo user={user} recip={buddy} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n//justifyContent: 'end'\n","import React, { useRef } from 'react';\n\nexport default function Login({ setUser }) {\n\tconst userRef = useRef();\n\n\tfunction submit(e) {\n\t\te.preventDefault();\n\t\tsetUser(userRef.current.value);\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<label>screen name:</label>\n\t\t\t<form onSubmit={submit}>\n\t\t\t\t<input type=\"text\" ref={userRef} required />\n\t\t\t\t<button type=\"submit\">Log in</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport Chatroom from './chatroom';\nimport Login from './login';\nimport icon from '../photos/sheepchat-icon.png'\nimport './style/wind0w.css';\n\nexport default class Wind0w extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tX: 0,\n\t\t\tY: 0,\n\t\t\tdragging: false,\n\t\t\tstyles: { top: this.props.initTop, left: this.props.initLeft, zIndex: 0 },\n\t\t};\n\t\tthis.startDrag = this.startDrag.bind(this);\n\t\tthis.toFront = this.toFront.bind(this);\n\t\tthis.dragging = this.dragging.bind(this);\n\t\tthis.stopDrag = this.stopDrag.bind(this);\n\t\twindow.addEventListener('mousemove', this.dragging);\n\t}\n\n\tstartDrag(e) {\n\t\te.preventDefault();\n\t\tvar Z = this.props.highestZ + 1;\n\t\tthis.props.incZ(Z);\n\n\t\tthis.setState({\n\t\t\tX: e.screenX - e.currentTarget.getBoundingClientRect().left,\n\t\t\tY: e.screenY - e.currentTarget.getBoundingClientRect().top,\n\t\t\thighestZ: Z,\n\t\t\tdragging: true,\n\t\t\tstyles: {\n\t\t\t\t...this.state.styles,\n\t\t\t\tzIndex: Z,\n\t\t\t},\n\t\t});\n\t}\n\n\ttoFront(e) {\n\t\tvar Z = this.props.highestZ + 1;\n\t\tthis.props.incZ(Z);\n\n\t\tthis.setState({\n\t\t\thighestZ: Z,\n\t\t\tstyles: {\n\t\t\t\t...this.state.styles,\n\t\t\t\tzIndex: Z,\n\t\t\t},\n\t\t});\n\t}\n\n\tdragging(e) {\n\t\te.preventDefault();\n\t\tif (this.state.dragging) {\n\t\t\tvar left = e.screenX - this.state.X;\n\t\t\tvar top = e.screenY - this.state.Y;\n\t\t\tthis.setState({\n\t\t\t\tstyles: {\n\t\t\t\t\t...this.state.styles,\n\t\t\t\t\tleft: left,\n\t\t\t\t\ttop: top,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tisTopWindow() {\n\t\treturn this.state.styles.zIndex === this.props.highestZ;\n\t}\n\n\tstopDrag(e) {\n\t\te.preventDefault();\n\t\tthis.setState({\n\t\t\tdragging: false,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"wind0w\" style={this.state.styles}>\n\t\t\t\t<div className=\"window\">\n\t\t\t\t\t<img src={icon} style={{position:\"absolute\", padding:\"6px\"}} width=\"18px\"></img>\n\t\t\t\t\t<div className=\"title-bar\" style={{ cursor: 'grab' }} onMouseDown={this.startDrag} onMouseUp={this.stopDrag}>\n\t\t\t\t\t\t<div className=\"title-bar-text\" style={{position:\"relative\", left:\"20px\"}}>Sheep Chat</div>\n\t\t\t\t\t\t<div className=\"title-bar-controls\">\n\t\t\t\t\t\t\t<button aria-label=\"Minimize\" onDoubleClick={() => console.log('Double clicked!')} />\n\t\t\t\t\t\t\t<button aria-label=\"Maximize\" />\n\t\t\t\t\t\t\t<button aria-label=\"Close\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"window-body\" onMouseDown={this.toFront}>\n\t\t\t\t\t\t<p style={{ textAlign: 'center', userSelect: 'none' }}></p>\n\t\t\t\t\t\t<div className=\"field-row\" style={{ justifyContent: 'center' }}></div>\n\t\t\t\t\t\t{/* <iframe\n                            src={this.props.source}\n                            style={{pointerEvents: (this.state.dragging || !this.isTopWindow()) ? 'none' : 'auto'}}\n                            height={this.props.frameH}\n                            width={this.props.frameW} >\n                        </iframe> */}\n\t\t\t\t\t\t{this.props.user ? <Chatroom user={this.props.user} /> : <Login setUser={this.props.setUser} />}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n//{this.props.user != null ? <Chatroom user={this.props.user} /> : <Login setUser={this.props.setUser} />}\n//cmd shift p\n","import * as React from 'react';\nimport 'xp.css/dist/XP.css';\nimport Wind0w from './wind0w';\n//import Login from '../login';\nimport Store from '../local.js';\nimport './style/App.css';\nimport { ChatProvider } from '../chatProvider';\nimport { SocketProvider } from '../socketProvider';\n\nexport default function App() {\n\tconst [highestZ, incZ] = React.useState(0);\n\tconst [user, setUser] = Store('user', '');\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<SocketProvider user={user}>\n\t\t\t\t<ChatProvider user={user}>\n\t\t\t\t\t<Wind0w user={user} setUser={setUser} incZ={incZ} highestZ={highestZ} initTop={30} initLeft={150} />\n\t\t\t\t</ChatProvider>\n\t\t\t</SocketProvider>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}